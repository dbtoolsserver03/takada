<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>regist</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
	<script th:src="@{/js/plug-in/jquery/jquery-3.7.1.min.js}"></script>

	<script>
		/*$(document).ready(function () {
			// 绑定ID事件
			$('[name=username]').blur(function () {

				console.log(111);
				// 在此处执行Ajax请求
				$.ajax({
					url: 'user/findUserName?username=' + $('[name=username]').val(),
					method: 'GET',
					success: function (response, data) {
						// 处理成功的响应
						console.log("success:" + data);
					},
					error: function (error) {

						console.log("error:" + error);
						// 处理错误
					}
				});
			});
		})
*/
	</script>
</head>

<body>
	<div id="wrap">
		<div id="top_content">
			<div id="header">
				<div id="rightheader">
					<p>
						2009/11/20
						<br />
					</p>
				</div>
				<div id="topheader">
					<h1 id="title">
						<a href="#">main</a>
					</h1>
				</div>
				<div id="navigation">
				</div>
			</div>
			<div id="content">
				<p id="whereami">
				</p>

				<a th:if="${session.user!=null}" th:href="@{/user/logout}">EXIT</a>

				<h1>
					アカウント申し込み画面
				</h1>
				<form th:action="@{/user/register}" method="post">
					<table cellpadding="0" cellspacing="0" border="0" class="form_table">
						<tr>
							<td valign="middle" align="right">
								ユーザ名:
							</td>
							<td valign="middle" align="left">
								<input type="text" class="inputgri" name="username" />
							</td>
						</tr>
						<tr>
							<td valign="middle" align="right">
								実名:
							</td>
							<td valign="middle" align="left">
								<input type="text" class="inputgri" name="realname" />
							</td>
						</tr>
						<tr>
							<td valign="middle" align="right">
								パスワード:
							</td>
							<td valign="middle" align="left">
								<input type="password" class="inputgri" name="password" />
							</td>
						</tr>
						<tr>
							<td valign="middle" align="right">
								性別:
							</td>
							<td valign="middle" align="left">
								男
								<input type="radio" class="inputgri" name="gender" value="1" checked="checked" />
								女
								<input type="radio" class="inputgri" name="gender" value="0" />
							</td>
						</tr>

						<tr>
							<td valign="middle" align="right">
								コード:
								<img id="num" th:src="@{/user/generateImageCode}" />
								<a href="javascript:;" onclick="changeImageCode()">次コード</a>
								<script>
									function changeImageCode() {
										document.getElementById('num').src = '[[@{/user/generateImageCode}]]?' + (new Date()).getTime()
									}
								</script>
							</td>
							<td valign="middle" align="left">
								<input type="text" class="inputgri" name="code" />
							</td>
						</tr>
					</table>
					<p>
						<input type="submit" class="button" value="申込&raquo;" />
						<a th:href="@{/login}">既存アカウント使います</a>
					</p>
				</form>
			</div>
		</div>
		<div id="footer">
			<div id="footer_bg">
				ABC@126.com
			</div>
		</div>
	</div>
</body>

</html>